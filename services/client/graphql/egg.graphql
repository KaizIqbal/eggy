
# ################################################ EGG QUERIES ################################################

# ##### FETCH SINGLE EGG #####
query Egg($eggname: String!) {
  egg(where: { eggname: $eggname }) {
      id
      title
      eggname
    }
}

# ##### FETCH PUBLISHED EGGS / PUBLIC EGG #####
query PublicBasket($first: Int = 7, $cursor: String) {
  publicBasket(first: $first, after: $cursor) {
    edges {
      node {
        id
        title
        platforms
        user {
          firstName
          lastName
        }
      }
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

# ##### FETCH USER'S EGG / DASHBOARD EGGS #####
query UserBasket($first: Int = 7, $cursor: String) {
  userBasket(first: $first, after: $cursor) {
    edges {
      node {
        id
        title
        eggname
        platforms
        isPublished
      }
    }
    pageInfo {
      endCursor
      hasNextPage
    }
  }
}

# ################################################ EGG MUTATIONS ################################################

# ##### CREATE #####
mutation CreateEgg($title: String!, $platforms: [Platform]!) {
  createEgg(title: $title, platforms: $platforms) {
    id
  }
}

# ##### UPDATE #####
mutation UpdateEgg($eggname: String!, $platforms: [Platform]!) {
  updateEgg(eggname: $eggname, platforms: $platforms) {
    id
  }
}

# ##### RENAME #####
mutation RenameEgg($id: ID!, $title: String!) {
  renameEgg(id: $id, title: $title) {
    id
  }
}   

# ##### DELETE #####
mutation DeleteEgg($eggname: String!) {
  deleteEgg(eggname: $eggname) {
    id
  }
}

# ##### PUBLISH #####
mutation Publish($id: ID!) {
  publish(id: $id) {
    id
  }
}

# ##### UNPUBLISH #####
mutation UnPublish($id: ID!) {
  unPublish(id: $id) {
    id
  }
}
